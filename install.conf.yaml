- clean:
    ~/:

- link:
    ~/.config:
    ~/.vimrc:
    ~/.zprofile:
    ~/.zsh_history:
      force: true
    ~/.zshenv:
    ~/.zshrc:

- shell:
    - find ~/.config/op/plugins -type d -exec chmod 700 {} \;
    - find ~/.config/op/plugins -type f -exec chmod 600 {} \;
    - defaults write -g "InitialKeyRepeat" -float "10"
    - defaults write -g "KeyRepeat" -float "1"
    - defaults write -g "ApplePressAndHoldEnabled" -bool "false"
    - defaults write com.apple.screencapture "show-thumbnail" -bool "false"
    - defaults write com.apple.dock "autohide" -bool "true"
    - defaults write com.apple.dock "autohide-delay" -float "0"
    - defaults write com.apple.dock "show-recents" -bool "false"
    - defaults write com.apple.dock "showhidden" -bool "true"
    - defaults write com.apple.dock "size-immutable" -bool "true"
    - defaults write com.apple.dock "static-only" -bool "true"
    - killall Dock
    - command: |-
        echo 'NOTE: Some of the changes will take effect the next time you log in.\n'
      quiet: true
      stdout: true
